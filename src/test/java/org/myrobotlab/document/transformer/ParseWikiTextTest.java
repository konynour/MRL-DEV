package org.myrobotlab.document.transformer;

import org.junit.Assert;
import org.junit.Ignore;
import org.myrobotlab.document.Document;

@Ignore
public class ParseWikiTextTest extends AbstractStageTest {

  @Override
  public Document createDocument() {
    // TODO Auto-generated method stub
    Document doc = new Document("doc_1");
    String value = "{{Other people|John Wyndham}} {{Use dmy dates|date=November 2015}} {{Infobox person | name = John Wyndham | image = John Wyndham Parkes Lucas Beynon Harris.jpg | image_size = | caption = | birth_date = {{birth date|1903|7|10|df=y}} | birth_place = [[Dorridge]], Warwickshire, England | death_date = {{death date and age|1969|3|11|1903|7|10|df=y}} | death_place = [[Petersfield, Hampshire|Petersfield]], Hampshire, England | other_names = John Wyndham Parkes Lucas Beynon Harris<ref name=\"oxdnb\" /> | known_for = | occupation = [[Science fiction writer]] | nationality = English | Influences = [[H G Wells]]}} [[File:Wonder stories 193105.jpg|thumb|right|Wyndham's first published sf story, \"Worlds to Barter\", was published in the May 1931 issue of ''[[Wonder Stories]]'', under his \"John Beynon Harris\" byline]] [[File:John B Harris WS 3105.jpg|thumb|right|Wyndham/Harris as pictured in the May 1931 ''Wonder Stories'']] [[File:Amazing stories 193204.jpg|thumb|right|Wyndham's second story, \"The Lost Machine\", was cover-featured on the April 1932 issue of ''[[Amazing Stories]]'', also under his Harris byline]] [[File:Wonder stories 193404.jpg|thumb|right|Wyndham's 1934 novelette \"The Moon Devils\" was the cover story for the April issue of ''[[Wonder Stories]]'', also under the Harris byline]] [[File:10 story fantasy 1951.jpg|thumb|right|Wyndham's 1951 novelette \"Tyrant and Slave-Girl on Planet Venus\" was the cover story for the first and only issue of ''[[Ten Story Fantasy]]'', under his \"John Beynon\" byline]] '''John Wyndham Parkes Lucas Beynon Harris''' ({{IPAc-en|ˈ|w|ɪ|n|d|əm}}; 10 July 1903&nbsp;– 11 March 1969)<ref>Online birth records show that the birth of a John Wyndham P. L. B. Harris was registered in Solihull in July–September 1903.</ref> was an English science fiction writer who usually used the pen name '''John Wyndham''', although he also used other combinations of his names, such as '''John Beynon''' and '''Lucas Parkes'''. Many of his works were set in [[apocalyptic and post-apocalyptic science fiction|post-apocalyptic]] landscapes. ==Biography== ===Early life=== Wyndham was born in the village of [[Dorridge]] near [[Knowle, West Midlands|Knowle]] in West Midlands, England, the son of George Beynon Harris, a [[barrister]], and Gertrude Parkes, the daughter of a Birmingham [[ironmaster]].<ref name=oxdnb /> His early childhood was spent in [[Edgbaston]] in Birmingham, but when he was 8&nbsp;years&nbsp;old his parents separated and he and his brother, the writer [[Vivian Beynon Harris]], spent the rest of their childhood at a number of English [[Preparatory school (UK)|preparatory]] and [[Public school (United Kingdom)|public schools]], including [[Blundell's School]] in [[Tiverton, Devon|Tiverton]], Devon, during [[World War I]]. His longest and final stay was at [[Bedales School]] near [[Petersfield]] in Hampshire (1918–21), which he left at the age of 18, and where he blossomed and was happy. After leaving school, Wyndham tried several careers, including farming, law, [[commercial art]] and advertising, but mostly relied on an allowance from his family. He eventually turned to writing for money in 1925 and, by 1931, was selling short stories and serial fiction to American science fiction magazines, most under the pen names of \"John Beynon\" or \"John Beynon Harris\", although he also wrote some detective stories. ===World War II=== During [[World War II]], Wyndham first served as a [[Censorship|censor]] in the [[Ministry of Information (United Kingdom)|Ministry of Information]], then joined the British Army, serving as a Corporal [[cipher]] operator in the [[Royal Corps of Signals]]. He participated in the [[Normandy landings]], although he was not involved in the first days of the operation.<ref name= \"oxdnb\">{{Cite web | url = http://oxforddnb.com/view/article/33728 |title= Harris, John Wyndham Parkes Lucas Beynon |work=Oxford Dictionary of National Biography |last = Aldiss |first=Brian W |accessdate=1 May 2010}}</ref> ===Postwar=== After the war, Wyndham returned to writing, inspired by the success of his brother, who had four novels published. He altered his writing style; and, by 1951, using the John Wyndham pen name for the first time, he wrote the novel ''[[The Day of the Triffids]]''. His pre-war writing career was not mentioned in the book's publicity, and people were allowed to assume that it was a first novel from a previously unknown writer. The book proved to be an enormous success and established Wyndham as an important exponent of science fiction. During his lifetime, he wrote and published six more novels under the name John Wyndham. In 1963, he married Grace Wilson, whom he had known for more than 20&nbsp;years; the couple remained married until he died. He moved out of the [[Penn Club, London|Penn Club]], London and lived near [[Petersfield, Hampshire]], just outside the grounds of [[Bedales School]]. He died in 1969, aged 65, at his home in Petersfield, survived by his wife and his brother.<ref>{{cite web|url= http://www.litencyc.com/php/speople.php?rec=true&UID=4820 | work =Literary Encyclopedia | title = John Wyndham | date = 7 November 2006 |accessdate= 1 May 2010}}</ref> Subsequently, some of his unsold work was published; and his earlier work was re-published. His [[archive]] was acquired by [[Liverpool University]].<ref>http://www.liv.ac.uk/~asawyer/wyndham.html</ref> ==Books== ===Early novels published under other pen names=== * ''[[Foul Play Suspected]]'' (1935), as John Beynon * ''[[The Secret People]]'' (1935), as John Beynon * ''[[Planet Plane]]'' (1936), as John Beynon. Also known as ''The Space Machine'' and ''Stowaway to Mars''. ===Novels published in his lifetime as by John Wyndham=== * ''[[The Day of the Triffids]]'' (1951), also known as ''Revolt of the Triffids'' * ''[[The Kraken Wakes]]'' (1953), published in the US as ''Out of the Deeps'' * ''[[The Chrysalids]]'' (1955), published in the US as ''Re-Birth'' * ''[[The Midwich Cuckoos]]'' (1957), filmed twice as ''Village of the Damned'' * ''[[The Outward Urge]]'' (1959) * ''[[Trouble with Lichen]]'' (1960) * ''[[Chocky]]'' (1968) ===Posthumously published novels=== * ''[[Web (novel)|Web]]'' (1979) * ''[[Plan for Chaos]]'' (2009) ===Short story collections published in his lifetime=== * ''[[Jizzle]]'' (1954) * ''[[The Seeds of Time]]'' (1956) * ''[[Tales of Gooseflesh and Laughter]]'' (1956), US edition featuring stories from the two earlier collections * ''[[Consider Her Ways]] and Others'' (1956) * ''[[The Infinite Moment]]'' (1961), US edition of ''Consider Her Ways and Others'', with two stories dropped, two others added ===Posthumously published collections=== * ''[[Sleepers of Mars]]'' (1973), a collection of five stories originally published in magazines in the 1930s: ''Sleepers of Mars'', ''Worlds to Barter'', ''Invisible Monster'', ''The Man from Earth'' and ''The Third Vibrator'' * ''[[The Best of John Wyndham]]'' (1973) * '' [[Wanderers of Time]]'' (1973), a collection of five stories originally published in magazines in the 1930s: ''Wanderers of Time'', ''Derelict of Space'', ''Child of Power'', ''The Last Lunarians'' and ''The Puff-ball Menace'' (a.k.a. ''Spheres of Hell'') * ''[[Exiles on Asperus]]'' (1979) * ''[[No Place Like Earth]]'' (2003) ===Critical reception=== His reputation rests mainly on the first four of the novels published in his lifetime as by John Wyndham.{{efn|For example, around 2000 they were all reprinted as [[Penguin Classics|Penguin Modern Classics]].}} ''The Day of the Triffids'' remains his best-known, but some of his readers consider that ''The Chrysalids'' was really his best.<ref>{{cite web |url=http://www.bbc.co.uk/dna/h2g2/A654707 |work=h2g2 |title=The Chrysalids&nbsp;– Novel |publisher=BBC |accessdate=1 May 2010}}</ref>{{Sfn | Aldiss | 1973 | p = 254}}<ref>{{cite web |url=http://www.tor.com/blogs/2008/10/the-chrysalids |title = Jo Walton's review of The Chrysalids}}</ref> He also penned several short stories, ranging from hard science fiction to whimsical fantasy. A few have been filmed: ''[[Consider Her Ways]]'', ''[[Random Quest]]'', ''Dumb Martian'', ''Jizzle'' (filmed as ''Maria'') and ''Time to Rest'' (filmed as ''No Place Like Earth'').<ref>{{citation |url=http://www.imdb.com/name/nm0943909/ |title=IMDb}}.</ref> There is also a radio version of ''Survival''. Most of Wyndham's novels have a contemporary 1950s English middle-class setting. [[Brian Aldiss]], another British science fiction writer, has disparagingly labelled some of them as \"[[cosy catastrophe]]s\", especially his novel ''[[The Day of the Triffids]]''.{{Sfn | Aldiss | 1973}}{{Rp | needed = yes | date =February 2013}} The critic LJ Hurst dismissed Aldiss's accusations, pointing out that in ''Triffids'' the main character witnesses several murders, suicides, and misadventures, and is frequently in mortal danger himself.<ref>{{citation |url=http://dspace.dial.pipex.com/l.j.hurst/weredead.htm |last=Hurst |first=L. J. |title='We Are The Dead': The Day of the Triffids and Nineteen Eighty-Four |journal=Vector |volume=113 |date=Aug–Sep 1986 |pages=4–5 |publisher=Pipex}}.</ref> ==References== '''Notes''' {{notelist|notes=}} '''Citations''' {{reflist|30em}} ==Bibliography== * {{citation |last=Aldiss |first=Brian W |title=Billion year spree: the history of science fiction |publisher= Weidenfeld & Nicolson |year=1973 |isbn=978-0-297-76555-4}} *Harris, Vivian Beynon. \"My Brother, John Wyndham: A Memoir.\" Transcribed and ed., David Ketterer, *Foundation: The International Review of Science Fiction* 28 (Spring 1999): 5–50. * Ketterer David,. \"Questions and Answers: The Life and Fiction of John Wyndham.\" *The New York Review of Science Fiction* 16 (March 2004): 1,6–10* * Ketterer, David. \"The Genesis of the Triffids.\" *The New York Review of Science Fiction* 16 (March 2004): 11–14. * Ketterer, David. \"John Wyndham and the Sins of His Father: Damaging Disclosures in Court.\" *Extrapolation* 46 (Summer 2005): 163–88. * Ketterer, David. \"'Vivisection': Schoolboy John Wyndham's First Publication?\" *Science Fiction Studies* 78 (July 1999): 303–311; expanded and corrected in *Foundation: The International Review of Science Fiction* 29 (Summer 2000): 70–84. * Ketterer, David. \"'A Part of the . . . Family': John Wyndham's *The Midwich Cuckoos* as Estranged Autobiography.\" In *Learning From Other Worlds: Estrangement, Cognition and the Politics of Science Fiction and Utopia*, ed Patrick Parrinder (Liverpool: University of Liverpool Press, 2001), 146–77. * Ketterer, David. \"When and Where Was John Wyndham Born?\" *Foundation: The International Review of Science Fiction\" 42 (Summer 2012/13): 22–39. * Ketterer, David. \"John Wyndham (1903[?]–1969).\" *The Literary Encyclopedia* (15 pages, online, 7 November 2006). * Ketterer, David. \"John Wyndham: The Facts of Life Sextet.\" In *A Companion to Science Fiction*, ed. David Seed (Oxford: Blackwell, 2003), 375–88. * Ketterer, David. \"John Wyndham's World War III and His Abandoned *Fury of Creation* Trilogy.\" In *Future Wars: The Anticipations and the Fears, ed. David Seed (Liverpool: Liverpool University Press, 2012), 103–29. * Ketterer, David. \"John B. Harris's Mars Rover on Earth.\" *Science Fiction Studies 41 (July 2014); 474-75. ==External links== * {{Citation | url = https://www.liverpool.ac.uk/~asawyer/wyndham.html | title = The John Wyndham Archive | publisher = The University of Liverpool}}. * {{Citation | url = http://books.guardian.co.uk/authors/author/0,5917,1347003,00.html | newspaper = The Guardian | type = article | title = John Wyndham | location=London | date=22 July 2008}}. * {{Citation | url = http://myweb.tiscali.co.uk/christopherpriest/wwport.htm | title = Portrait of Wyndham and Wells | author-link = Christopher Priest (novelist)| first = Christopher | last = Priest | publisher = Tiscali | place = UK}} * {{Citation | url = http://www.depauw.edu/sfs/backissues/78/ketterer78art.htm | title = 'Vivisection': Schoolboy 'John Wyndham's’ First Publication? | publisher = Depauw | journal = SFS | volume = 78 | last = Ketterer}}. * {{Citation | format = Realplayer | place = UK | url = http://www.bbc.co.uk/broadband/mediawrapper/consoles/thelostdecade/bb_rm_console.shtml?pack5-wyndham_4x3 | publisher = BBC | type = TV interview | title = John Wyndham | year = 1960}}{{Dead link|date=May 2010}} * {{Citation | url = http://www.bbc.co.uk/archive/writers/12206.shtml | publisher = BBC | type = interview | title = John Wyndham on the nature of evil in his novels | year = 1960 | series = On writers | place = UK}} (somehow restricted to viewing only in UK) * {{isfdb name|id=John_Wyndham}} * {{Citation | url = http://www.booksellerworld.com/johnwyndham-bibliography.htm | title = Book seller world | contribution = John Wyndham first editions | type = bibliography}}. {{John Wyndham}} {{The Day of the Triffids}} {{The Midwich Cuckoos}} {{Authority control}} {{DEFAULTSORT:Wyndham, John}} [[Category:1903 births]] [[Category:1969 deaths]] [[Category:People educated at Blundell's School]] [[Category:People educated at Bedales School]] [[Category:English science fiction writers]] [[Category:People from Birmingham, West Midlands]] [[Category:People from Petersfield]] [[Category:Royal Corps of Signals soldiers]] [[Category:British Army personnel of World War II]] [[Category:Pseudonymous writers]] [[Category:People educated at Shardlow Hall]] [[Category:20th-century English novelists]] [[Category:English male novelists]]";
    doc.setField("text", value);
    return doc;
  }

  @Override
  public AbstractStage createStage() {
    // TODO Auto-generated method stub
    ParseWikiText stage = new ParseWikiText();
    return stage;
  }

  @Override
  public void validate(Document doc) {
    // TODO Auto-generated method stub
    Assert.assertNotNull(doc.getField("text"));
  }

  // @Override
  // public void validateChildren(List<Document> docs) {
  // // NoOp most stages don't return children docs.
  // for (Document d: docs) {
  // System.out.println(d);
  // }
  // };

}